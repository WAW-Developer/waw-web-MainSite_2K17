<dom-module id="waw-posts-list">
  
  <link rel="import" type="css" href="../js/bootstrap/js/bootstrap.min.css">
  <link rel="import" type="css" href="../js/font-awesome/css/font-awesome.min.css">

<!--   <link rel="import" href="./bs4/bs4-tabs.html"> -->

  <template>
  
    <style>
      /* local styles go here */
/*       :host { */
/*         display: block; */
/*       } */
    </style>
    
    
    <div class="card">
      <div class="card-block">
        
        <!-- Toolbar -->
        <nav class="nav nav-pills" data-name="toolbar">
            <span class="glyphicon glyphicon-inbox" aria-hidden="true" 
                style="margin-right: 6px; display: none;">
                
                <i class="fa fa-inbox" aria-hidden="true"></i>
            </span>

            <!-- Number of Posts -->
            <span class="fa fa-file" aria-hidden="true"></span>
            <span class="nav-text">Posts: <span class="badge badge-pill badge-default small">{{posts.length}}</span> </span>

            <span class="glyphicon glyphicon-cog cogLoading"
                style="display:none;" 
                aria-hidden="true">
            </span>
            
            <br />
            
            <!-- Filter by Categories -->
            <div class="panel panel-info" data-name="categories" style="display: none;">
            
                <div class="nav nav-pills">
                
                    <button type="button" 
                      class="btn btn-default navbar-btn"
                      [class.active]="showFiltered"
                      [class.btn-success]="showFiltered"
                      (click)="click_FilterPosts()">
                        <span class="fa fa-inbox" aria-hidden="true"></span>
                        <span class="fa fa-filter" aria-hidden="true"></span>
                    </button>                
                
                    <span class="fa fa-tags" aria-hidden="true" style="margin-right: 6px;"> </span>
                    <span>Categories <span class="badge badge-pill badge-default small">{{categories_selected.length}}</span></span>
                    <span>of <span class="badge badge-pill badge-default small">{{categories.length}}</span></span>
                    
                    <button type="button" 
                      class="btn btn-default navbar-btn"
                      on-click="_categoriesSelected_Reset">
                      <span class="fa fa-remove" aria-hidden="true"></span>
                    </button>                
                
                </div>
                
                <div class="btn-group btn-group-sm text-justify" role="group" aria-label="...">
                    
                    <template is="dom-repeat" items="{{categories_selected}}" as="_catagory_selected" index-as="_catagory_no">
                    
                      <span>
                          <button type="button"
                              on-click="_clickcategoryselected"
                              class="btn btn-outline-secondary text-primary">
                              {{_catagory_selected.name}} <span class="badge badge-pill badge-default small">{{_catagory_selected.count}}</span>
                          </button>
                      </span>
                        
                    </template>
                    
                </div>
                
            </div>
            <!-- EndOf Filter by Categories -->

        </nav>
        <!-- EndOf Toolbar -->


        <!-- Pagination -->
        <nav>
          <ul class="pagination">
                
            <li class="page-item disabled">
              <span class="page-link">Previous</span>
            </li>           
                   
            <template id="pages_top" is="dom-repeat" items="{{data.pagination._items}}" as="_page" index-as="_page_no">
              
                <li class="page-item" 
                  [class.active]="_page.active">
                    <a href="javascript:void(null);"
                        class="page-link"
                        [class.active]="_page.active"
                        (click)="pagination_GotoPage(_page.pageNum)">
                        {{_page.pageNum}}
                     </a>
                </li>
              
            </template>
            
            <li class="page-item disabled">
              <span class="page-link">Next</span>
            </li>
            
          </ul>

        </nav>
        <!-- EndOf Pagination -->
        
        
        <br />
      
        <!-- Post Items -->
        <div class="list-group">
        
          <template id="posts_list" is="dom-repeat" items="{{posts}}" as="_post">
            
            <div class="list-group-item card w-100" data-target$="{{_post.id}}" data-name="post_item">
            
              <h3 class="card-block w-100">
                  <span class="fa fa-chevron-right" aria-hidden="true"></span> {{_post.title}}
              </h3>
              <div class="card-text w-100">
                  <span class="h3"><small><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> {{_post.published}} </small></span>
              </div>
            
              <!-- Layer for Post options... -->
              <div data-name="post-options">

              <!-- Button for show/hidde postProperties -->
              <button type="button" class="btn btn-info" data-name="properties"
                  on-click="_showHideProperties">
                  <span class="fa fa-eye" aria-hidden="true" data-name="icon"></span> 
                  Properties
                  <span class="fa fa-info-circle" aria-hidden="true">
                      </span>
              </button> 
            
              <!-- Layer for postProperties -->
              <div hidden="true" class="card card-info" data-name="properties">
              
                <ul class="list-group">
                  
                  <li class="list-group-item">
                    <span class="glyphicon glyphicon-link" aria-hidden="true">&nbsp;</span>
                    <span class="h4">URL blog: </span>
                    <span class="h5"><a href="{{_post.link}}" target="_blank">{{_post.link}}</a></span>
                  </li>
                
                  <li class="list-group-item">
                    <div class="btn-group btn-group-sm text-justify" role="group" aria-label="...">
                      <p>
                      <span class="fa fa-tags" aria-hidden="true">&nbsp;</span>
                      <span class="h4"> Categories: </span>
                      </p>
                    
                      <template is="dom-repeat" items="{{_post.categories}}" as="_catagory" index-as="_catagory_no">
                        <button class="btn btn-sm btn-link" type="button">
                            {{_catagory}}
                        </button>                    
                      </template>
                    </div>
                  </li>
                  
                </ul>
              </div>
            
            
            
              <!-- Button for show/hidde postDetail -->
              <button type="button" class="btn btn-success" data-name="detail"
                  on-click="_showHideDetail">
                  <span class="fa fa-eye" aria-hidden="true" data-name="icon">
                      </span>
                  Content
                  <span class="fa fa-file" aria-hidden="true">
                      </span>
              </button>            
              
              <!-- Layer for postDetail -->
              <div hidden="true" class="card card-outline-success" data-name="detail" 
                  data-loaded="false">
                <div class="card-block" data-name="content">
                </div>
              </div>            
            
              </div>    <!-- EndOf post-options -->
            
            </div>
            
          </template>
          
        </div>   <!-- EndOf Post Items -->
      
      </div>
    </div>
    
  </template>
    
    
</dom-module>