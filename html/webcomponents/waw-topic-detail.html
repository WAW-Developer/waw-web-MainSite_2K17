<dom-module id="waw-topic-detail">
  <template>
    <style>
      /* local styles go here */
      :host {
        display: block;
      }
    </style>
   
    <!-- local DOM goes here -->
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Topic detail</h3>
      </div>
      <div class="panel-body">
        <h3>{{data.topic.name}}</h3>
        <p id="description">
        </p>
      </div>
    </div>
    
    
    
  </template>
   <script>
   Polymer({
     /* this is the element's prototype */
    is: 'waw-topic-detail',
    
    
    properties: {

      mode: {
        type: String,
        value: 'auto'
      },

      data: {
        type: Object,
        reflectToAttribute: true,
        notify: true,
        value: function() { return {}; }
      }

    },
    
    /**
     * Called when the component is ready
     */
    ready: function() {
//         console.log(this.localName + '#' + this.id + ' has local DOM initialized'); //// TODO: REMOVE DEBUG LOG
      },
      
      
      
    set_topic: function (_options) {
          
      var _this = this;
      var _topic = _options.topic;
      
      var _JQ = jQuery;
      
      _this.set('data.topic', _topic);
      
      // Paint description
      var _description = '';
      
      if (Array.isArray(_topic.summary) === true) {
          _topic.summary.forEach(function(_line, _i) {
              _description = _description + _line;
          });
      } else {
          _description = _topic.summary;
      }
      
      
      Polymer.dom(_this.$.description).innerHTML =_description;
      
    }
      
      
  });
  </script>
</dom-module>